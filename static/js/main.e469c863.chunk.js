(this["webpackJsonpmask-map"]=this["webpackJsonpmask-map"]||[]).push([[0],[,,,,function(e,a,t){e.exports=t.p+"static/media/maskLoading.08f38cd8.gif"},function(e,a,t){e.exports=t.p+"static/media/location.72269d8b.png"},function(e,a,t){e.exports=t(13)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(3),s=t.n(c),l=(t(11),t(1)),o=t(4),i=t.n(o),m=t(5),p=t.n(m);t(12);function u(){var e=sessionStorage.getItem("inputValue");return e||""}console.log("sessionInputValue",u());var d=r.a.memo((function(e){var a=e.dataList;return a.map((function(e,a){return r.a.createElement("a",{className:"mapListItem",key:e.properties.id,href:"https://www.google.com.tw/maps/place/".concat(e.geometry.coordinates[1],",").concat(e.geometry.coordinates[0]),target:"_blank",rel:"noreferrer noopener"},r.a.createElement("div",{className:"listWrap"},r.a.createElement("div",{className:"stock"},e.properties.mask_adult>0||e.properties.mask_child>0?r.a.createElement("div",{className:"hasStock"},r.a.createElement("div",null,"\u6709\u5eab\u5b58")):r.a.createElement("div",{className:"emptyStock"},r.a.createElement("div",null,"\u7121\u5eab\u5b58"))),r.a.createElement("div",{className:"items"},r.a.createElement("div",{className:"name"},r.a.createElement("span",null,e.properties.name),r.a.createElement("img",{src:p.a,alt:"location"})),r.a.createElement("div",{className:"mask_number"},r.a.createElement("span",{style:{color:"#fff",background:"#113f67"}},"\u6210\u4eba"),r.a.createElement("span",{style:e.properties.mask_adult>0?{color:"#21aa93"}:{color:"#434343"}},e.properties.mask_adult),r.a.createElement("span",{style:{color:"#fff",background:"#dd6b4d"}},"\u5c0f\u5b69"),r.a.createElement("span",{style:e.properties.mask_child>0?{color:"#21aa93"}:{color:"#434343"}},e.properties.mask_child)),r.a.createElement("div",{className:"phone"},r.a.createElement("span",null,e.properties.phone)),r.a.createElement("div",{className:"address"},r.a.createElement("span",null,e.properties.address)),r.a.createElement("div",{className:"updated"},r.a.createElement("span",{className:"title"},"\u66f4\u65b0\u6642\u9593"),r.a.createElement("span",null,e.properties.updated)))))}))})),f=function(e){var a=e.mapData,t=e.sessionInput,c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)(a),p=Object(l.a)(m,2),u=p[0],f=p[1],E=Object(n.useRef)(function(e,a,t){var n=null;return function(){clearTimeout(n);var r=this,c=arguments;!n&&t&&e.apply(r,c),n=setTimeout((function(){t?n=null:e.apply(r,c)}),a)}}((function(e){var t=a.filter((function(a,t){return-1!==a.properties.address.indexOf(e)}));f(t)}),500));return Object(n.useEffect)((function(){""!==t&&i(t)}),[]),Object(n.useEffect)((function(){E.current(o),sessionStorage.setItem("inputValue",o)}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",{onClick:function(){return window.location.reload()}},"\u53e3\u7f69\u5373\u6642\u5eab\u5b58\u5217\u8868"),r.a.createElement("div",{className:"listWrap"},r.a.createElement("div",{className:"inputWrap"},r.a.createElement("span",null,"\u8acb\u8f38\u5165\u5730\u5740\uff1a"),r.a.createElement("input",{type:"text",name:"address",onChange:function(e){i(e.target.value)},value:o,placeholder:"\u5e02\u3001\u5340\u3001\u8def"})))),r.a.createElement("div",{className:"mapList"},r.a.createElement(d,{dataList:u})),r.a.createElement("div",{className:"reload",onClick:function(){return window.location.reload()}}))};var E=function(){var e=Object(n.useState)(!0),a=Object(l.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),m=o[0],p=o[1],d=Object(n.useState)(""),E=Object(l.a)(d,2),v=E[0],h=E[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),k=b[0],j=b[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json").then((function(e){return e.json()})).then((function(e){var a=Object.values(e)[1];p(a),j(u),c(!1),console.log("create by Jeremy Chang 200302")})).catch((function(e){return h("\u597d\u50cf\u58de\u4e86")}))}),[]),t?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:i.a,alt:""}))):v||!m||0===m.length?r.a.createElement("div",{className:"App"},r.a.createElement("div",null,"\u6c92\u6709\u8cc7\u6599")):r.a.createElement("div",{className:"App"},r.a.createElement(f,{mapData:m,sessionInput:k}),r.a.createElement("div",{className:"designer"},"by Jeremy Chang"),r.a.createElement("div",{className:"information"},"\u8cc7\u6599\u63d0\u4f9b\uff1a",r.a.createElement("a",{href:"https://g0v.hackmd.io/gGrOI4_aTsmpoMfLP1OU4A"},"\u53e3\u7f69\u4f9b\u9700\u8cc7\u8a0a\u5e73\u53f0"),"\u3001",r.a.createElement("a",{href:"https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json"},"\u85e5\u5c40+\u885b\u751f\u6240\u5373\u6642\u5eab\u5b58 geojson by kiang")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.e469c863.chunk.js.map